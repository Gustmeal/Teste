{% extends "base.html" %}

{% block content %}
<!-- Hero Section -->
<div class="hero-section text-center mb-5 fade-in {% if current_user.perfil == 'admin' or current_user.perfil == 'moderador' %}with-stats{% else %}user-normal{% endif %}">
    <div class="hero-content">
        <h1 class="display-4 fw-bold mb-3">Portal GEINC</h1>
        <p class="lead mb-4">Ger칡ncia de Inova칞칚o de Neg칩cios e Controle - EMGEA</p>

        {% if current_user.perfil == 'admin' or current_user.perfil == 'moderador' %}
        <div class="hero-stats row g-4 mt-4">
            <div class="col-md-3">
                <div class="stat-card">
                    <i class="fas fa-desktop fa-2x mb-2"></i>
                    <h3 class="counter" data-target="12">0</h3>
                    <p class="text-muted">Sistemas Ativos</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card">
                    <i class="fas fa-users fa-2x mb-2"></i>
                    <h3 class="counter" data-target="{{ current_user.id + 50 }}">0</h3>
                    <p class="text-muted">Usu치rios</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card">
                    <i class="fas fa-chart-line fa-2x mb-2"></i>
                    <h3 class="counter" data-target="98">0</h3>
                    <span>%</span>
                    <p class="text-muted">Disponibilidade</p>
                </div>
            </div>
            <div class="col-md-3">
                <div class="stat-card">
                    <i class="fas fa-clock fa-2x mb-2"></i>
                    <h3 id="current-time">00:00</h3>
                    <p class="text-muted">Hora Atual</p>
                </div>
            </div>
        </div>
        {% endif %}
    </div>
</div>

<!-- Busca R치pida -->
<div class="search-section mb-5">
    <div class="row justify-content-center">
        <div class="col-md-6">
            <div class="search-box">
                <input type="text" id="searchSystems" class="form-control" placeholder="游댌 Buscar sistema...">
            </div>
        </div>
    </div>
</div>

<!-- Sistemas Organizados por Categoria -->
<div class="systems-section">
    <!-- Categoria: Gest칚o Cont치bil -->
    <div class="category-section mb-5">
        <h2 class="category-title">
            <i class="fas fa-book"></i> Gest칚o Cont치bil
        </h2>
        <div class="row g-4">
            <!-- C칩digos Cont치beis -->
            <div class="col-md-4 system-item" data-name="c칩digos cont치beis">
                <div class="system-card">
                    <div class="card-icon gradient-purple">
                        <i class="fas fa-calculator"></i>
                    </div>
                    <h4>C칩digos Cont치beis</h4>
                    <p class="text-muted">Gerenciamento de c칩digos cont치beis do PDG</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="#" onclick="verificarAcesso('codigos_contabeis', '{{ url_for('codigo_contabil.index') }}'); return false;"
                           class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Demonstrativos SUCOR -->
            <div class="col-md-4 system-item" data-name="demonstrativos sucor">
                <div class="system-card">
                    <div class="card-icon gradient-blue">
                        <i class="fas fa-chart-bar"></i>
                    </div>
                    <h4>Demonstrativos SUCOR</h4>
                    <p class="text-muted">Compara칞칚o de demonstrativos entre per칤odos</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="{{ url_for('demonstrativo_sucor.index') }}" class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Categoria: Gest칚o Financeira -->
    <div class="category-section mb-5">
        <h2 class="category-title">
            <i class="fas fa-coins"></i> Gest칚o Financeira
        </h2>
        <div class="row g-4">
            <!-- Dep칩sitos Judiciais -->
            <div class="col-md-4 system-item" data-name="dep칩sitos judiciais">
                <div class="system-card">
                    <div class="card-icon gradient-orange">
                        <i class="fas fa-gavel"></i>
                    </div>
                    <h4>Dep칩sitos Judiciais</h4>
                    <p class="text-muted">Gest칚o de dep칩sitos judiciais SUFIN</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="{{ url_for('depositos_judiciais.index') }}" class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>


            <div class="col-md-4 system-item" data-name="fatura caixa">
                <div class="system-card">
                    <div class="card-icon gradient-cyan">
                        <i class="fas fa-file-invoice-dollar"></i>
                    </div>
                    <h4>Fatura Caixa</h4>
                    <p class="text-muted">Gest칚o de faturas da Caixa Seguradora</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Novo</span>
                        <a href="{{ url_for('fatura_caixa.index') }}" class="btn-back">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Categoria: Gest칚o de Contratos -->
    <div class="category-section mb-5">
        <h2 class="category-title">
            <i class="fas fa-file-contract"></i> Gest칚o de Contratos
        </h2>
        <div class="row g-4">
            <!-- Assessoria de Cobran칞as -->
            <div class="col-md-4 system-item" data-name="assessoria cobran칞as credenciamento">
                <div class="system-card">
                    <div class="card-icon gradient-green">
                        <i class="fas fa-handshake"></i>
                    </div>
                    <h4>Assessoria de Cobran칞as</h4>
                    <p class="text-muted">Credenciamento e avalia칞칚o de empresas</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="#" onclick="verificarAcesso('credenciamento', '{{ url_for('credenciamento.index') }}'); return false;"
                           class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- SUMOV -->
            <div class="col-md-4 system-item" data-name="sumov im칩veis">
                <div class="system-card">
                    <div class="card-icon gradient-pink">
                        <i class="fas fa-building"></i>
                    </div>
                    <h4>SUMOV</h4>
                    <p class="text-muted">Gest칚o de contratos e im칩veis</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="#" onclick="verificarAcesso('sumov', '{{ url_for('sumov.index') }}'); return false;"
                           class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
            <!-- Adicione este card junto com os outros cards do sistema -->
            <div class="col-md-4 system-item" data-name="sumov im칩veis">
                <div class="system-card">
                    <div class="card-icon gradient-pink">
                        <i class="fas fa-building"></i>
                    </div>
                    <h4>Caixa EMGEA</h4>
                    <p class="text-muted">Gerenciamento de caixas EMGEA com pend칡ncias e reten칞칫es</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="#" onclick="verificarAcesso('sumov', '{{ url_for('caixa_emgea.index') }}'); return false;"
                           class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Categoria: An치lise e Controle -->
    <div class="category-section mb-5">
        <h2 class="category-title">
            <i class="fas fa-chart-line"></i> An치lise e Controle
        </h2>
        <div class="row g-4">
            <!-- Indicadores -->
            <div class="col-md-4 system-item" data-name="indicadores">
                <div class="system-card">
                    <div class="card-icon gradient-teal">
                        <i class="fas fa-tachometer-alt"></i>
                    </div>
                    <h4>Indicadores</h4>
                    <p class="text-muted">Gest칚o de indicadores de desempenho</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="#" onclick="verificarAcesso('indicadores', '{{ url_for('indicador.index') }}'); return false;"
                           class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Cobrados vs Retidos -->
            <div class="col-md-4 system-item" data-name="cobrados retidos">
                <div class="system-card">
                    <div class="card-icon gradient-red">
                        <i class="fas fa-balance-scale"></i>
                    </div>
                    <h4>Cobrados vs Retidos</h4>
                    <p class="text-muted">Compara칞칚o de pend칡ncias e valores</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="{{ url_for('pendencia_retencao.index') }}" class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Dentro da categoria "An치lise e Controle" -->
            <div class="col-md-4 system-item" data-name="linha tempo">
                <div class="system-card">
                    <div class="card-icon gradient-purple">
                        <i class="fas fa-timeline"></i>
                    </div>
                    <h4>Linha do Tempo(GECRE)</h4>
                    <p class="text-muted">Gerenciamento de eventos hist칩ricos</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="{{ url_for('linha_tempo.index') }}" class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Cobrado vs Repassado -->
            <div class="col-md-4 system-item" data-name="cobrado repassado">
                <div class="system-card">
                    <div class="card-icon gradient-yellow">
                        <i class="fas fa-exchange-alt"></i>
                    </div>
                    <h4>Cobrado vs Repassado</h4>
                    <p class="text-muted">An치lise de valores cobrados e repassados</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="{{ url_for('cobrado_repassado.index') }}" class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Categoria: Ferramentas -->
    <div class="category-section mb-5">
        <h2 class="category-title">
            <i class="fas fa-tools"></i> Ferramentas
        </h2>
        <div class="row g-4">
            <!-- Exporta칞칚o de Dados -->
            <div class="col-md-4 system-item" data-name="exporta칞칚o dados">
                <div class="system-card">
                    <div class="card-icon gradient-indigo">
                        <i class="fas fa-download"></i>
                    </div>
                    <h4>Exporta칞칚o de Dados</h4>
                    <p class="text-muted">Exporte dados para Excel, PDF ou Word</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="{{ url_for('export.index') }}" class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>

        <!-- Gerador de Relat칩rios Customiz치veis -->
            <div class="col-md-4 system-item" data-name="gerador relat칩rios">
                <div class="system-card">
                    <div class="card-icon gradient-teal">
                        <i class="fas fa-file-invoice"></i>
                    </div>
                    <h4>Gerador de Relat칩rios</h4>
                    <p class="text-muted">Crie relat칩rios personalizados com dados em tempo real</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Novo</span>
                        <a href="{{ url_for('relatorio.index') }}" class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Sistema de Demandas -->
            <div class="col-md-4 system-item" data-name="demandas trabalho">
                <div class="system-card">
                    <div class="card-icon gradient-purple">
                        <i class="fas fa-tasks"></i>
                    </div>
                    <h4>Demandas de Trabalho</h4>
                    <p class="text-muted">Gerencie demandas e controle prazos de trabalho</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="{{ url_for('demandas.index') }}" class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>

            <!-- Sistema de Teletrabalho -->
            <div class="col-md-4 system-item" data-name="teletrabalho calend치rio trabalho remoto">
                <div class="system-card">
                    <div class="card-icon gradient-indigo">
                        <i class="fas fa-home-lg-alt"></i>
                    </div>
                    <h4>Calend치rio de Teletrabalho</h4>
                    <p class="text-muted">Gerencie seus dias de trabalho remoto com limite de 30% por 치rea</p>
                    <div class="card-footer">
                        <span class="badge bg-success">Ativo</span>
                        <a href="{{ url_for('teletrabalho.index') }}" class="btn-system">
                            Acessar <i class="fas fa-arrow-right"></i>
                        </a>
                    </div>
                </div>
            </div>


            <!-- Em breve -->
            <div class="col-md-4 system-item" data-name="em breve">
                <div class="system-card disabled">
                    <div class="card-icon gradient-gray">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h4>Em Breve</h4>
                    <p class="text-muted">Novos sistemas em desenvolvimento</p>
                    <div class="card-footer">
                        <span class="badge bg-warning text-dark">Em Desenvolvimento</span>
                        <button class="btn-system" disabled>
                            Em Breve
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Modal de Acesso Negado -->
<div class="modal fade" id="modalAcessoNegado" tabindex="-1">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header bg-danger text-white">
                <h5 class="modal-title">
                    <i class="fas fa-exclamation-triangle me-2"></i>
                    Acesso Negado
                </h5>
                <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body">
                <p>Voc칡 n칚o possui permiss칚o para acessar este sistema.</p>
                <p>Entre em contato com o administrador para solicitar acesso.</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Fechar</button>
            </div>
        </div>
    </div>
</div>

<style>
    /* Hero Section */
    .hero-section {
        background: linear-gradient(135deg, #8B9AFF 0%, #C2B6FF 100%);
        padding: 40px 20px;
        border-radius: 20px;
        margin: 0 auto 30px;
        max-width: 1200px;
        position: relative;
        overflow: hidden;
        box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
    }

    /* Hero section para usu치rios normais - mais compacta */
    .hero-section.user-normal {
        padding: 30px 20px;
        background: linear-gradient(135deg, #8B9AFF 0%, #E6DEFF 100%);
    }

    .hero-section::before {
        content: '';
        position: absolute;
        top: -50%;
        right: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
        animation: pulse 4s ease-in-out infinite;
    }

    /* T칤tulo principal */
    .hero-section h1 {
        color: #5B52E5;
        font-size: 3rem;
        font-weight: 700;
        margin-bottom: 0.5rem;
        text-shadow: none;
    }

    /* Subt칤tulo */
    .hero-section p.lead {
        color: #7B7B9F;
        font-size: 1.1rem;
        font-weight: 400;
        margin-bottom: 0;
        text-shadow: none;
    }

    /* Hero section com estat칤sticas para admin/moderador */
    .hero-section.with-stats {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 60px 20px;
    }

    .hero-section.with-stats h1,
    .hero-section.with-stats p.lead {
        color: white;
        text-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
    }

    .hero-section.with-stats p.lead {
        color: rgba(255, 255, 255, 0.9);
    }

    @keyframes pulse {
        0%, 100% { transform: scale(1); }
        50% { transform: scale(1.1); }
    }

    .hero-content {
        position: relative;
        z-index: 1;
    }

    /* Estat칤sticas */
    .hero-stats {
        max-width: 800px;
        margin: 0 auto;
    }

    .stat-card {
        background: rgba(255, 255, 255, 0.2);
        backdrop-filter: blur(10px);
        padding: 20px;
        border-radius: 15px;
        color: white;
        transition: all 0.3s ease;
    }

    .stat-card:hover {
        transform: translateY(-5px);
        background: rgba(255, 255, 255, 0.3);
    }

    .stat-card h3 {
        font-size: 2rem;
        font-weight: 700;
        margin: 0;
        display: inline-block;
    }

    .stat-card span {
        font-size: 1.5rem;
        font-weight: 600;
    }

    /* Busca */
    .search-box {
        position: relative;
    }

    .search-box input {
        padding: 15px 20px;
        border-radius: 50px;
        border: 2px solid #e0e0e0;
        font-size: 16px;
        transition: all 0.3s ease;
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }

    .search-box input:focus {
        border-color: #667eea;
        box-shadow: 0 4px 20px rgba(102, 126, 234, 0.2);
    }

    /* Categorias */
    .category-section {
        margin-bottom: 50px;
    }

    .category-title {
        color: #333;
        font-size: 1.5rem;
        font-weight: 600;
        margin-bottom: 25px;
        padding-bottom: 10px;
        border-bottom: 2px solid #f0f0f0;
        position: relative;
    }

    .category-title i {
        color: #667eea;
        margin-right: 10px;
    }

    /* Cards de Sistema */
    .system-card {
        background: white;
        border-radius: 15px;
        padding: 25px;
        height: 100%;
        box-shadow: 0 2px 15px rgba(0,0,0,0.08);
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .system-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        height: 4px;
        background: linear-gradient(90deg, #667eea, #764ba2);
        transform: scaleX(0);
        transition: transform 0.3s ease;
    }

    .system-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 30px rgba(0,0,0,0.12);
    }

    .system-card:hover::before {
        transform: scaleX(1);
    }

    .system-card.disabled {
        opacity: 0.6;
        cursor: not-allowed;
    }

    .system-card.disabled:hover {
        transform: none;
    }

    /* 칈cones dos Cards */
    .card-icon {
        width: 60px;
        height: 60px;
        border-radius: 15px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-bottom: 20px;
        font-size: 24px;
        color: white;
    }

    /* Gradientes para 칤cones */
    .gradient-purple { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    .gradient-blue { background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%); }
    .gradient-orange { background: linear-gradient(135deg, #fa709a 0%, #fee140 100%); }
    .gradient-green { background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%); }
    .gradient-pink { background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%); }
    .gradient-teal { background: linear-gradient(135deg, #4fb3d4 0%, #45b7aa 100%); }
    .gradient-red { background: linear-gradient(135deg, #f5576c 0%, #f093fb 100%); }
    .gradient-yellow { background: linear-gradient(135deg, #fcb045 0%, #fd1d1d 100%); }
    .gradient-indigo { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); }
    .gradient-gray { background: linear-gradient(135deg, #868f96 0%, #596164 100%); }

    .system-card h4 {
        color: #333;
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 10px;
    }

    .system-card p {
        color: #666;
        font-size: 0.9rem;
        margin-bottom: 20px;
        line-height: 1.5;
    }

    /* Footer do Card */
    .card-footer {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: auto;
        padding-top: 20px;
        border-top: 1px solid #f0f0f0;
    }

    /* Bot칚o do Sistema */
    .btn-system {
        background: #667eea;
        color: white;
        padding: 8px 20px;
        border-radius: 25px;
        text-decoration: none;
        font-size: 0.9rem;
        font-weight: 500;
        transition: all 0.3s ease;
        display: inline-flex;
        align-items: center;
        gap: 5px;
    }

    .btn-system:hover {
        background: #5a67d8;
        color: white;
        transform: translateX(5px);
    }

    .btn-system:disabled {
        background: #ccc;
        cursor: not-allowed;
    }

    /* Anima칞칫es */
    .fade-in {
        animation: fadeIn 0.8s ease-out;
    }

    @keyframes fadeIn {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    /* Contador animado */
    .counter {
        display: inline-block;
        animation: countUp 2s ease-out;
    }

    /* Responsividade */
    @media (max-width: 768px) {
        .hero-section {
            padding: 40px 15px;
            margin: -20px -15px 20px;
        }

        .hero-section h1 {
            font-size: 2rem;
        }

        .stat-card {
            margin-bottom: 15px;
        }

        .category-title {
            font-size: 1.2rem;
        }

        .system-card {
            margin-bottom: 20px;
        }
    }

    /* Tema escuro */
    [data-theme="dark"] .system-card {
        background: #2d2d3d;
        box-shadow: 0 2px 15px rgba(0,0,0,0.3);
    }

    [data-theme="dark"] .system-card h4 {
        color: #e0e0e0;
    }

    [data-theme="dark"] .system-card p {
        color: #aaa;
    }

    [data-theme="dark"] .category-title {
        color: #e0e0e0;
        border-bottom-color: #444;
    }

    [data-theme="dark"] .search-box input {
        background: #2d2d3d;
        border-color: #444;
        color: #e0e0e0;
    }

    [data-theme="dark"] .card-footer {
        border-top-color: #444;
    }
</style>

<script>
    // Fun칞칚o para verificar acesso (mantida do original)
    function verificarAcesso(sistema, url) {
        fetch(`/api/verificar-permissao/${sistema}`)
            .then(response => response.json())
            .then(data => {
                if (data.tem_permissao) {
                    window.location.href = url;
                } else {
                    const modal = new bootstrap.Modal(document.getElementById('modalAcessoNegado'));
                    modal.show();
                }
            })
            .catch(error => {
                console.error('Erro ao verificar permiss칚o:', error);
                window.location.href = url;
            });
    }

    // Contador animado - s칩 executa se as estat칤sticas existirem
    document.addEventListener('DOMContentLoaded', function() {
        const counters = document.querySelectorAll('.counter');

        if (counters.length > 0) {
            counters.forEach(counter => {
                const target = +counter.getAttribute('data-target');
                const increment = target / 100;

                const updateCounter = () => {
                    const current = +counter.innerText;

                    if (current < target) {
                        counter.innerText = Math.ceil(current + increment);
                        setTimeout(updateCounter, 20);
                    } else {
                        counter.innerText = target;
                    }
                };

                updateCounter();
            });

            // Rel칩gio em tempo real - s칩 se existir o elemento
            const timeElement = document.getElementById('current-time');
            if (timeElement) {
                function updateTime() {
                    const now = new Date();
                    const time = now.toLocaleTimeString('pt-BR', {
                        hour: '2-digit',
                        minute: '2-digit'
                    });
                    timeElement.textContent = time;
                }

                updateTime();
                setInterval(updateTime, 1000);
            }
        }

        // Busca de sistemas
        const searchInput = document.getElementById('searchSystems');
        const systemItems = document.querySelectorAll('.system-item');

        searchInput.addEventListener('input', function() {
            const searchTerm = this.value.toLowerCase();

            systemItems.forEach(item => {
                const systemName = item.getAttribute('data-name').toLowerCase();
                if (systemName.includes(searchTerm)) {
                    item.style.display = 'block';
                    // Anima칞칚o de fade in
                    item.style.animation = 'fadeIn 0.5s ease-out';
                } else {
                    item.style.display = 'none';
                }
            });

            // Se n칚o houver resultados, mostra mensagem
            const visibleItems = document.querySelectorAll('.system-item[style="display: block;"]');
            if (visibleItems.length === 0 && searchTerm !== '') {
                // Aqui voc칡 pode adicionar uma mensagem de "nenhum sistema encontrado"
            }
        });
    });
</script>
{% endblock %}